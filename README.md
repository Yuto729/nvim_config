# Neovim (LazyVim) キーバインド

`<leader>` はスペースキーです。

## 検索

| キー | 機能 |
|------|------|
| `<leader>/` | Grep検索（プロジェクト全体） |
| `<leader>sg` | Live Grep（リアルタイム検索） |
| `<leader>sw` | カーソル下の単語を検索 |
| `<leader>ff` | ファイル名のあいまい検索 |
| `<leader><leader>` | ファイル名検索（別名） |
| `<leader>sb` | バッファ内の行を検索 |
| `<leader>sB` | 開いているバッファ内をGrep |

## ファイルエクスプローラー

| キー | 機能 |
|------|------|
| `-` | Oil.nvimを開く（親ディレクトリ） |

### Oil.nvim内の操作

| キー | 機能 |
|------|------|
| `Enter` | ファイルを開く / ディレクトリに入る |
| `-` | 親ディレクトリへ |
| `q` | 閉じる |

## バッファ操作

| キー | 機能 |
|------|------|
| `<leader>,` | バッファ一覧 |
| `<leader>bb` | 前のバッファに切り替え |
| `<leader>bd` | バッファを閉じる |
| `<leader>bo` | 他のバッファをすべて閉じる |
| `<leader>bD` | バッファとウィンドウを閉じる |
| `H` | 前のバッファへ |
| `L` | 次のバッファへ |

## ターミナル

| キー | 機能 |
|------|------|
| `Ctrl+/` | フローティングターミナル |
| `<leader>ft` | ターミナル（プロジェクトルート） |
| `<leader>fT` | ターミナル（カレントディレクトリ） |

## Claude Code

| キー | 機能 |
|------|------|
| `<leader>ac` | Claude Codeを開く/閉じる |
| `<leader>af` | Claude Codeにフォーカス |
| `<leader>an` | 新しい会話を開始 |
| `<leader>ar` | 会話を再開 |
| `<leader>aC` | 会話を続ける |
| `<leader>ab` | 現在のバッファを追加 |
| `<leader>as` | 選択範囲をClaudeに送信（ビジュアルモード） |
| `<leader>aa` | 差分を承認 |
| `<leader>ad` | 差分を拒否 |

## Git操作

### Hunk操作（Gitsigns）

| キー | 機能 |
|------|------|
| `]h` / `[h` | 次/前のhunkに移動 |
| `<leader>hr` | hunkをrevert |
| `<leader>hs` | hunkをstage |
| `<leader>hu` | stageを取り消し |
| `<leader>hp` | hunkをプレビュー |

### Diffview（差分表示）

#### 起動

| キー | 機能 |
|------|------|
| `<leader>do` | 現在の変更（unstaged）を表示 |
| `<leader>dh` | 1つ前のコミットとのdiff |
| `<leader>dm` | mainブランチとの差分 |
| `<leader>dd` | developブランチとの差分 |
| `<leader>df` | 現在のファイルの履歴 |
| `<leader>dF` | 全ファイルの履歴 |
| `<leader>dc` | Diffviewを閉じる |

#### Diffview内の操作

| キー | 機能 |
|------|------|
| `Tab` | 次のファイルのdiffを開く |
| `Shift+Tab` | 前のファイルのdiffを開く |
| `]c` | 次のhunk（変更箇所）へ |
| `[c` | 前のhunkへ |
| `]F` | 最後のファイル |
| `[F` | 最初のファイル |
| `gf` | ファイルを開く |
| `<leader>e` | ファイルパネルにフォーカス |
| `<leader>b` | ファイルパネル表示切替 |
| `g?` | ヘルプ表示 |

#### ファイルパネル内

| キー | 機能 |
|------|------|
| `j`/`k` | ファイル選択を移動 |
| `Enter`/`l` | 選択したファイルのdiffを開く |
| `s` または `-` | ステージ/アンステージ |
| `S` | 全てステージ |
| `U` | 全てアンステージ |
| `X` | 変更を元に戻す |

#### コンフリクト解消

| キー | 機能 |
|------|------|
| `]x` | 次のコンフリクトへ |
| `[x` | 前のコンフリクトへ |
| `<leader>co` | OURSを選択 |
| `<leader>ct` | THEIRSを選択 |
| `<leader>cb` | BASEを選択 |
| `<leader>ca` | 全てを選択 |
| `dx` | コンフリクト領域を削除 |

## LSP（定義ジャンプなど）

| キー | 機能 |
|------|------|
| `gd` | 定義へジャンプ |
| `gr` | 参照一覧 |
| `gI` | 実装へジャンプ |
| `gy` | 型定義へジャンプ |
| `K` | ホバードキュメント |
| `Ctrl+o` | 前の位置に戻る |
| `Ctrl+i` | 次の位置に進む |

## ウィンドウ操作

| キー | 機能 |
|------|------|
| `Ctrl+h/j/k/l` | ウィンドウ間移動 |
| `Ctrl+矢印` | ウィンドウサイズ変更 |
| `<leader>w` | ウィンドウメニュー |

## セッション

| キー | 機能 |
|------|------|
| `<leader>qs` | セッションを復元（現在のディレクトリ） |
| `<leader>ql` | 最後のセッションを復元 |
| `<leader>qd` | セッションの自動保存を停止 |

## その他

| キー | 機能 |
|------|------|
| `<leader>` | which-key（コマンド一覧表示） |
| `<leader>sk` | キーマップ検索 |
| `<leader>sh` | ヘルプ検索 |
